C51 COMPILER V9.52.0.0   CLOCKDINGSHI                                                      06/13/2021 21:32:22 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE CLOCKDINGSHI
OBJECT MODULE PLACED IN clockdingshi.OBJ
COMPILER INVOKED BY: D:\software\C51\BIN\C51.EXE clockdingshi.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include<reg51.h>
   2          #include"display.h"
   3          #include"delay.h"
   4          #include"keyscan.h"
   5          
   6          uchar a1,a0,b1,b0,c1,c0,s,f,m,qq;
   7          uchar baoshi,baoshijieshu;
   8          
   9          void main()
  10          {
  11   1        TMOD=0x01;
  12   1        TH0=(65536-46080)/256;// ÓÉÓÚ¾§ÕñÎª11.0592,¹ÊËù¼Ç´ÎÊýÓ¦Îª46080£¬¼ÆÊ±Æ÷Ã¿¸ô50000Î¢Ãë·¢ÆðÒ»´ÎÖÐ¶Ï¡£
  13   1        TL0=(65536-46080)%256;//46080µÄÀ´Àú£¬Îª50000*11.0592/12
  14   1        ET0=1;
  15   1        EA=1;
  16   1        
  17   1        while(1){
  18   2          keyscan0();
  19   2          
  20   2          if(ok==1)
  21   2          { TR0=1;
  22   3            wei=0;
  23   3          
  24   3          if(pp==20)
  25   3          { pp=0;
  26   4            m++;
  27   4            if(m==60)
  28   4            {
  29   5              m=0;
  30   5              f++;
  31   5              if(f==60)
  32   5              {
  33   6                f=0;
  34   6                s++;
  35   6                if(s==24)  //24hÒ»¸öÑ­»·
  36   6                {
  37   7                  s=0;
  38   7                }
  39   6              }
  40   5            }
  41   4          }
  42   3          
  43   3          a0=s%10;
  44   3          a1=s/10;
  45   3          b0=f%10;
  46   3          b1=f/10;
  47   3          c0=m%10;
  48   3          c1=m/10;
  49   3          display(a1,a0,b1,b0,c1,c0);
  50   3        }
  51   2        else
  52   2        {
  53   3        if(change==1)
  54   3        { TR0=0;
  55   4          keyscan();
C51 COMPILER V9.52.0.0   CLOCKDINGSHI                                                      06/13/2021 21:32:22 PAGE 2   

  56   4          if(key!=10)
  57   4          {
  58   5          
  59   5          switch(wei)
  60   5          {
  61   6            case 1: if(key<3)   //Ð¡Ê±×î¸ßÎ»Îª2
  62   6                a1=key;
  63   6                else
  64   6                wei--;
  65   6                break;
  66   6            case 2: if(a1==1|a1==0)
  67   6                a0=key;
  68   6                else
  69   6                if(key<5)
  70   6                a0=key;      //µ±Ð¡Ê±×î¸ßÎ»Îª2Ê±£¬µÍÎ»×î¸ßÎª4
  71   6                break;
  72   6            case 3: if(key<6)   //·ÖÖÓ×î¸ßÎ»Îª5
  73   6                b1=key;
  74   6                else
  75   6                wei--;
  76   6                break;
  77   6            case 4: b0=key; break;
  78   6            case 5: if(key<6)   //Ãë×î¸ßÎ»Îª5
  79   6                c1=key; 
  80   6                else
  81   6                wei--;
  82   6                break;
  83   6            case 6: c0=key; break;
  84   6          }
  85   5          key=10;
  86   5          }
  87   4            m=c1*10+c0;
  88   4            f=b1*10+b0;
  89   4            s=a1*10+a0;
  90   4          display(a1,a0,b1,b0,c1,c0);
  91   4        }
  92   3        if(dingshi==1)
  93   3        {
  94   4          TR0=0;
  95   4          display(shi20,shi10,fen20,fen10,miao20,miao10); 
  96   4          keyscan();
  97   4          if(key!=10)
  98   4          {
  99   5          switch(wei)
 100   5          {
 101   6            case 1: if(key<3)   //Ð¡Ê±×î¸ßÎ»Îª2
 102   6                shi20=key;
 103   6                else
 104   6                wei--;
 105   6                break;
 106   6            case 2: if(a1==1|a1==0)
 107   6                shi10=key;
 108   6                else
 109   6                if(key<5)
 110   6                a0=key;      //µ±Ð¡Ê±×î¸ßÎ»Îª2Ê±£¬µÍÎ»×î¸ßÎª4
 111   6                break;
 112   6            case 3: if(key<6)   //·ÖÖÓ×î¸ßÎ»Îª5
 113   6                fen20=key;
 114   6                else
 115   6                wei--;
 116   6                break;
 117   6            case 4: fen10=key; break;
C51 COMPILER V9.52.0.0   CLOCKDINGSHI                                                      06/13/2021 21:32:22 PAGE 3   

 118   6            case 5: if(key<6)   //Ãë×î¸ßÎ»Îª5
 119   6                miao20=key; 
 120   6                else
 121   6                wei--;
 122   6                break;
 123   6            case 6: miao10=key; break;
 124   6          }
 125   5          key=10;
 126   5          }
 127   4          yidingshi=1;
 128   4          display(shi20,shi10,fen20,fen10,miao20,miao10); 
 129   4        } 
 130   3        }
 131   2        if(yidingshi==1)
 132   2        {
 133   3        if((a1==shi20)&&(a0==shi10)&&(b1==fen20)&&(b0==fen10)&&(c1==miao20)&&(c0==miao10))
 134   3          beep=0;
 135   3        }
 136   2        if(((a1==shi20)&&(a0==shi10)&&(b1==fen20)&&(b0==fen10+1)&&(c1==miao20)&&(c0==miao10))||(yidingshi==0))//Ò
             -»·ÖÖÓ±¨Ê±ÌáÊ¾
 137   2          beep=1;
 138   2        }
 139   1      }
 140          
 141          void time0() interrupt 1
 142          { TH0=(65536-46080)/256;
 143   1        TL0=(65536-46080)%256;
 144   1        pp++;
 145   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    618    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     12    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
